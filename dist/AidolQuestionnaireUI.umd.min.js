(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["AidolQuestionnaireUI"]=t():e["AidolQuestionnaireUI"]=t()})("undefined"!==typeof self?self:this,(function(){return function(){"use strict";var e={};!function(){e.d=function(t,i){for(var a in i)e.o(i,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:i[a]})}}(),function(){e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){e.p=""}();var t={};if(e.d(t,{default:function(){return ue}}),"undefined"!==typeof window){var i=window.document.currentScript,a=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(e.p=a[1])}var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ai-choice"},[i("ai-title",{style:e.titleStyle,attrs:{index:e.index,content:e.titleContent,"suffix-text":e.realTitleSuffixText}}),i("AiTitleImage",{attrs:{image:e.image,"img-class-name":"ai-choice__image"}}),i("div",{class:e.choiceListClass},e._l(e.realOptions,(function(t,a){return i("div",{key:a,class:[e.choiceListItemClass,{"is-active":e.isActive(t)}],style:Object.assign({},t.styles,e.optionStyle||{}),on:{click:function(i){return e.toggleChecked(t[e.props.value])}}},[e.showImage?i("div",{staticClass:"ai-choice__list--image__item__wrap"},[e._m(0,!0),i("img",{attrs:{src:t[e.props.src]}}),t[e.props.label]?i("div",{staticClass:"ai-choice__list--image__item__wrap__label",domProps:{innerHTML:e._s(t[e.props.label])}}):e._e()]):i("div",{domProps:{innerHTML:e._s(t[e.props.label])}})])})),0),e.collectReason?i("AiAnswerReason",{attrs:{"title-style":e.reasonStyle},model:{value:e.answerReason,callback:function(t){e.answerReason=t},expression:"answerReason"}}):e._e()],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ai-choice__list--image__item__wrap__icon"},[i("div",{staticClass:"ai-choice__list--image__item__wrap__icon__inner"})])}];function l(e,t=["A","B","C","D","E","F","G","H","I","J"]){const i=e+"",a=i.length;let n="";for(let s=0;s<a;s++){const e=Number.parseInt(i[s]);n+=t[e]}return n}var r={props:{options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({label:"label",value:"value",src:"src"})},autoOptionsIndex:{type:Boolean,default:!0},optionsIndexSet:{type:[Array,void 0],default:void 0}},computed:{realOptions(){return this.autoOptionsIndex?this.options.map(((e,t)=>{const i=l(t,this.optionsIndexSet),a="only-image"!==this.type?`${i}. ${e[this.props.label]}`:"";return{...e,[this.props.label]:a}})):this.options}}},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ai-answer-reason"},[i("span",{staticClass:"ai-answer-reason__title",style:e.titleStyle},[e._v(" "+e._s(e.titleContent)+" ")]),i("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.reasonValue,expression:"reasonValue",modifiers:{trim:!0}}],staticClass:"ai-answer-reason__content",domProps:{value:e.reasonValue},on:{change:e.handleChange,input:function(t){t.target.composing||(e.reasonValue=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])},u=[],c={name:"AiAnswerReason",model:{prop:"modelValue",event:"update:modelValue"},props:{modelValue:{type:String,default:""},titleStyle:{type:[Object,Array,String],default:()=>({})},titleContent:{type:String,default:"Tell us the reason for your option(Optional)"}},emits:["update:modelValue","change"],data(){return{}},computed:{reasonValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{handleChange(e){this.$emit("change",e)}}},d=c;function p(e,t,i,a,n,s,l,r){var o,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=i,u._compiled=!0),a&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),l?(o=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},u._ssrRegister=o):n&&(o=r?function(){n.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:n),o)if(u.functional){u._injectStyles=o;var c=u.render;u.render=function(e,t){return o.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,o):[o]}return{exports:e,options:u}}var h,m,f=p(d,o,u,!1,null,null,null),v=f.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.image&&e.image.src?i("div",{staticClass:"ai-title-image",style:e.image.container_style||{}},[i("img",{staticClass:"ai-title-image__inner",class:e.imgClassName,style:e.image.style,attrs:{src:e.image.src}})]):e._e()},_=[],g={name:"AiTitleImage",props:{image:{type:Object,default:()=>({src:"",style:{},container_style:{}})},imgClassName:{type:String,default:""}},data(){return{}}},x=g,A=p(x,y,_,!1,null,null,null),S=A.exports,b={name:"AiChoice",components:{AiAnswerReason:v,AiTitleImage:S},mixins:[r],props:{type:{type:String,default:"text"},index:{type:[Number,String],default:""},value:{type:[Number,String,Array],default:()=>[]},answerReasonValue:{type:String,default:""},multiple:{type:Boolean,default:!1},max:{type:[Number,String],default:0},titleStyle:{type:[Object,Array,void 0],default:void 0},titleContent:{type:String,default:""},titleSuffixText:{type:[String,void 0],default:void 0},optionStyle:{type:[Object,Array,void 0],default:void 0},reasonStyle:{type:[Object,Array,void 0],default:void 0},image:{type:Object,default:()=>({})},collectReason:{type:[Boolean,Number],default:!1}},emits:["update:answerReasonValue","input"],data(){return{checked:""}},computed:{answerReason:{get(){return this.answerReasonValue},set(e){this.$emit("update:answerReasonValue",e)}},showImage(){return["image","only-image"].includes(this.type)},isOuter(){return this.multiple&&this.choiceMax>0&&this.checked.length>this.choiceMax},realTitleSuffixText(){return this.titleSuffixText?this.titleSuffixText:this.multiple?"（Multiple choice）":"（Single choice）"},choiceMax(){const{parseInt:e}=Number;return e(this.max)},choiceListClass(){return this.showImage?"ai-choice__list--image":"ai-choice__list"},choiceListItemClass(){return this.showImage?"ai-choice__list--image__item":"ai-choice__list__item"}},watch:{value:{handler(e){this.multiple?this.checked=Array.isArray(e)?[...e]:[]:this.checked=e},immediate:!0}},methods:{isActive(e){const t=e[this.props.value];return this.multiple?this.checked.includes(t):this.checked===t},toggleChecked(e){if(this.multiple){const t=this.checked.findIndex((t=>t===e));t>=0?this.checked.splice(t,1):this.checked.push(e),this.isOuter&&this.checked.shift()}else this.checked=e;this.$emit("input",this.checked)}}},w=b,C=p(w,n,s,!1,null,null,null),R=C.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.content?i("div",{staticClass:"ai-title"},[e.index?[i("span",[e._v(e._s(e.index))]),i("span",[e._v(". ")])]:e._e(),i("span",[e._v(e._s(e.content))]),i("span",{staticClass:"ai-title__suffix-text"},[e._v(e._s(e.suffixText))])],2):e._e()},O=[],T={name:"AiTitle",props:{index:{type:[Number,String],default:1},content:{type:String,default:""},suffixText:{type:String,default:""}}},k=T,$=p(k,I,O,!1,null,null,null),V=$.exports,j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ai-short-answer"},[i("ai-title",{style:e.titleStyle,attrs:{index:e.index,content:e.titleContent}}),i("AiTitleImage",{attrs:{image:e.image,"img-class-name":"ai-short-answer__image"}}),i("div",{staticClass:"ai-short-answer__content"},[i("textarea",{staticClass:"ai-short-answer__content__inner",attrs:{placeholder:e.placeholder,autocomplete:e.autocomplete,cols:e.cols,rows:e.rows,maxlength:e.maxlength,disabled:e.disabled,readonly:e.readonly,resize:e.resize},domProps:{value:e.textValue},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}})])],1)},N=[],M={name:"AiShortAnswer",components:{AiTitle:V,AiTitleImage:S},props:{index:{type:[Number,String],default:""},value:{type:String,default:""},titleContent:{type:String,default:""},titleStyle:{type:[Object,Array,void 0],default:void 0},autocomplete:{type:String,default:"off"},cols:{type:[Number,String,void 0],default:void 0},rows:{type:[Number,String],default:10},placeholder:{type:String,default:""},maxlength:{type:[Number,String,void 0],default:void 0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},resize:{type:String,default:"inherit"},image:{type:Object,default:()=>({})}},data(){return{textValue:""}},watch:{value:{handler(e){this.textValue=e},immediate:!0}},methods:{handleInput(e){this.textValue=e.target.value,this.$emit("input",this.textValue,e)},handleChange(e){this.$emit("change",this.textValue,e)},handleFocus(e){this.$emit("focus",e)},handleBlur(e){this.$emit("blur",e)}}},B=M,E=p(B,j,N,!1,null,null,null),L=E.exports,P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ai-block-tips",class:[{"is-active":e.isActive,animation:e.animation&&e.isActive}]},[i("div",{staticClass:"ai-block-tips__content"},[e._t("default")],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"ai-block-tips__message"},[e._t("content",(function(){return[e._v(" "+e._s(e.message)+" ")]}))],2)])},H=[],U={name:"AiBlockTips",props:{message:{type:String,default:""},animation:{type:Boolean,default:!0}},computed:{isActive(){return!!this.message}}},F=U,z=p(F,P,H,!1,null,null,null),G=z.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ai-rate"},[i("div",{staticClass:"ai-rate__title"},[i("ai-title",{style:e.titleStyle,attrs:{index:e.index,content:e.titleContent}})],1),i("AiTitleImage",{attrs:{image:e.image,"img-class-name":"ai-rate__image"}}),i("div",{staticClass:"ai-rate__content",style:e.optionStyle},[e._l(e.rateOptions,(function(t){return i("div",{key:t.value,staticClass:"ai-rate__content__item",class:[{"is-hover-active":e.isHoverActive(t.value)},{"is-active":e.isActive(t.value)}],on:{mouseover:function(i){return e.handleMouseover(t.value)},mouseout:function(i){return e.handleMouseout(t.value)},click:function(i){return e.handleClick(t.value)}}},[e._v(" "+e._s(t.label)+" ")])})),e.showText?i("div",{staticClass:"ai-rate__content__text",style:e.optionStyle},[e._v(" "+e._s(e.rateText)+" ")]):e._e()],2),e.collectReason?i("AiAnswerReason",{attrs:{"title-content":"Tell us the reason for your score(Optional)","title-style":e.reasonStyle},model:{value:e.answerReason,callback:function(t){e.answerReason=t},expression:"answerReason"}}):e._e()],1)},Q=[],X={name:"AiRate",components:{AiAnswerReason:v,AiTitle:V,AiTitleImage:S},props:{value:{type:[Number,String],default:0},answerReasonValue:{type:String,default:""},index:{type:[Number,String],default:""},titleContent:{type:String,default:""},titleStyle:{type:[Object,Array,void 0],default:void 0},optionStyle:{type:[Object,Array,void 0],default:void 0},reasonStyle:{type:[Object,Array,void 0],default:void 0},max:{type:[Number,String],default:5},options:{type:[Array,void 0],default:void 0},showText:{type:Boolean,default:!1},texts:{type:Array,default:()=>[]},image:{type:Object,default:()=>({})},collectReason:{type:[Boolean,Number],default:!1}},emits:["input","update:answerReasonValue"],data(){return{hoverActive:"",hoverIng:!1}},computed:{active:{get(){return this.value},set(e){this.$emit("input",e)}},answerReason:{get(){return this.answerReasonValue},set(e){this.$emit("update:answerReasonValue",e)}},rateMax(){return Number.parseInt(this.max)},rateOptions(){if(Array.isArray(this.options)&&this.options.length>0)return this.options;const e=[];for(let t=1;t<=this.rateMax;t++)e.push({label:t,value:t});return e},rateText(){const e=this.hoverIng?this.hoverActive:this.active,t=this.rateOptions.findIndex((t=>t.value===e));return this.texts[t]},hoverActiveIndex(){return this.rateOptions.findIndex((e=>e.value===this.hoverActive))},activeIndex(){return this.rateOptions.findIndex((e=>e.value===this.active))}},methods:{isHoverActive(e){const t=this.rateOptions.findIndex((t=>t.value===e));return t<=this.hoverActiveIndex&&this.hoverIng},isActive(e){const t=this.rateOptions.findIndex((t=>t.value===e));return t<=this.activeIndex&&!this.hoverIng},handleMouseover(e){this.hoverActive=e,this.hoverIng=!0},handleMouseout(e){this.hoverActive=e,this.hoverIng=!1},handleClick(e){this.active=e}}},D=X,q=p(D,J,Q,!1,null,null,null),K=q.exports,W=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ai-rate-group"},[i("div",{staticClass:"ai-rate-group__title"},[i("ai-title",{style:e.titleStyle,attrs:{index:e.index,content:e.titleContent}})],1),i("AiTitleImage",{attrs:{image:e.image,"img-class-name":"ai-rate-group__image"}}),i("div",{staticClass:"ai-rate-group__list"},e._l(e.realOptions,(function(t,a){return i("ai-rate",{key:a,staticClass:"ai-rate-group__list-item",attrs:{"title-content":t[e.props.label],"title-style":e.optionStyle,"option-style":e.optionStyle,max:e.max,"show-text":e.showText,texts:e.texts},on:{input:e.handleInput},model:{value:e.checkedMap[t[e.props.value]],callback:function(i){e.$set(e.checkedMap,t[e.props.value],i)},expression:"checkedMap[v[props.value]]"}})})),1),e.collectReason?i("AiAnswerReason",{attrs:{"title-content":"Tell us the reason for your score(Optional)","title-style":e.reasonStyle},model:{value:e.answerReason,callback:function(t){e.answerReason=t},expression:"answerReason"}}):e._e()],1)},Y=[],Z={name:"AiRateGroup",components:{AiAnswerReason:v,AiTitleImage:S},mixins:[r],props:{index:{type:[Number,String],default:""},value:{type:Object,default:()=>({})},answerReasonValue:{type:String,default:""},titleStyle:{type:[Object,Array,void 0],default:void 0},titleContent:{type:String,default:""},optionStyle:{type:[Object,Array,void 0],default:void 0},reasonStyle:{type:[Object,Array,void 0],default:void 0},max:{type:[Number,String],default:10},showText:{type:Boolean,default:!1},texts:{type:Array,default:()=>[]},image:{type:Object,default:()=>({})},collectReason:{type:[Boolean,Number],default:!1}},emits:["input","update:answerReasonValue"],data(){return{checkedMap:{}}},computed:{answerReason:{get(){return this.answerReasonValue},set(e){this.$emit("update:answerReasonValue",e)}}},watch:{value:{handler(e){e&&"{}"!==JSON.stringify(e)?this.checkedMap={...e}:this.checkedMap=this.realOptions.reduce(((e,t)=>(e[t[this.props.value]]="",e)),{})},immediate:!0}},methods:{handleInput(){this.$emit("input",this.checkedMap)}}},ee=Z,te=p(ee,W,Y,!1,null,null,null),ie=te.exports,ae={...K,name:"AiCustomRate"},ne=ae,se=p(ne,h,m,!1,null,null,null),le=se.exports;function re(e){[R,V,L,G,K,ie,le].forEach((t=>{e.component(t.name,t)}))}var oe={install:re,AiTitle:V,AiChoice:R,AiShortAnswer:L,AiBlockTips:G,AiRate:K,AiRateGroup:ie,AiCustomRate:le},ue=oe;return t=t["default"],t}()}));